dn: <%= @basedn %>
objectClass: top
objectClass: dcObject
objectClass: organization
o: <%= @name %>
dc: <%= @name.split('.')[0] %>
description: <%= @name %>

dn: <%= @rootdn %>,<%= @basedn %>
roleOccupant: <%= @basedn %>
objectClass: simpleSecurityObject
objectClass: organizationalRole
cn: <%= @rootdn.gsub!(/^(..)=/, '') %>
description: LDAP Manager
userPassword: <%= @rootpw %>

<% if @readdn -%>
dn: <%= @readdn %>,<%= @basedn %>
roleOccupant: <%= @basedn %>
objectClass: simpleSecurityObject
objectClass: organizationalRole
cn: <%= @readdn.gsub!(/^(..)=/, '') %>
description: LDAP Reader
userPassword: <%= @readpw %>
<% end -%>

dn: ou=users,<%= @basedn %>
objectClass: organizationalUnit
ou: uses

dn: ou=groups,<%= @basedn %>
objectClass: organizationalUnit
ou: groups
